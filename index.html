<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>39C3 Power Cycles – Artwork Generator</title>
    <meta
      name="description"
      content="Create custom 39C3 Power Cycles artwork with animated themes, color modes, and export to PNG, SVG, or video formats."
    />

    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://39c3.o1y.de/" />
    <meta property="og:title" content="39C3 Power Cycles – Artwork Generator" />
    <meta
      property="og:description"
      content="Create custom 39C3 Power Cycles artwork with animated themes, color modes, and export to PNG, SVG, or video formats."
    />
    <meta property="og:image" content="https://39c3.o1y.de/og-image.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="39C3 Power Cycles Artwork Generator" />

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />

    <link rel="stylesheet" href="/styles/index.css" />
  </head>
  <body x-data="appStore" :class="bodyThemeClass">
    <div class="header glass-surface" :class="{ 'mobile-collapsed': mobileHeaderCollapsed }">
      <div class="header-always-visible">
        <div class="control-group">
          <label>Text Input</label>
          <input
            type="text"
            maxlength="30"
            x-model="text"
            @input="isTextDirty = true"
            class="control-base"
          />
        </div>
        <button class="btn-secondary btn-base mobile-header-toggle" @click="toggleMobileHeader">
          <span class="toggle-icon"></span>
          <span x-text="mobileHeaderCollapsed ? 'Settings' : 'Hide'"></span>
        </button>
      </div>
      <div class="controls">
        <div class="control-group control-wide">
          <label>Theme</label>
          <select x-model="theme" class="control-base">
            <option value="lines">Nerdy Lines</option>
            <option value="toggle">Toggle</option>
            <option value="toggle39c3Animated">39C3 Toggle Animated</option>
            <option value="toggle39c3Static">39C3 Toggle Static</option>
            <option value="ccc">CCC</option>
          </select>
        </div>
        <div class="control-group control-medium" x-show="showToggleVariantControl" x-cloak>
          <label>Toggle Variant</label>
          <select x-model="toggleVariant" class="control-base">
            <option value="left-filled">Left Filled</option>
            <option value="left-outlined">Left Outlined</option>
            <option value="right-filled">Right Filled</option>
            <option value="right-outlined">Right Outlined</option>
          </select>
        </div>
        <div class="control-group control-medium" x-show="showLinesControl" x-cloak>
          <label>Lines</label>
          <input type="range" min="2" max="24" step="1" x-model.number="numLines" />
          <span class="value-display" x-text="linesDisplay"></span>
        </div>
        <div class="control-group control-narrow" x-show="showSpeedControl" x-cloak>
          <label>Animation Speed</label>
          <input type="range" min="0.3" max="3" step="0.1" x-model.number="animationSpeed" />
          <span class="value-display" x-text="speedDisplay"></span>
        </div>
        <div class="control-group control-narrow" x-show="showModeControl" x-cloak>
          <label>Animation Mode</label>
          <select x-model="mode" class="control-base">
            <option value="wave">Wave</option>
            <option value="pulse">Pulse</option>
            <option value="rotate">Rotate</option>
            <option value="breathe">Breathe</option>
            <option value="bounce">Bounce</option>
          </select>
        </div>
        <div class="control-group control-flex">
          <label>Color Mode</label>
          <select x-model="colorMode" class="control-base">
            <template x-for="mode in availableColorModes" :key="mode.value">
              <option :value="mode.value" x-text="mode.label"></option>
            </template>
          </select>
        </div>
      </div>
    </div>

    <div class="canvas-container">
      <canvas id="canvas" class="shadow-accent-glow"></canvas>
      <div class="stats" id="stats">
        FPS: <span id="fps">0</span>
        <a
          href="https://github.com/o1y/39c3-artwork-generator"
          target="_blank"
          rel="noopener noreferrer"
        >
          View source on GitHub
        </a>
      </div>
    </div>

    <div class="footer-bar glass-surface">
      <!-- Animation Controls (Left Side) -->
      <div class="footer-section footer-animation" x-show="showAnimationControls" x-cloak>
        <button
          class="btn-primary btn-base play-pause-btn"
          @click="togglePlayPause"
          x-text="playPauseLabel"
        ></button>
        <div class="frame-slider-group">
          <input
            type="range"
            min="0"
            :max="maxFrames - 1"
            step="1"
            x-model.number="currentFrame"
            @input="onFrameSliderInput"
            class="frame-slider"
          />
          <div class="frame-display-row">
            <span class="frame-number" x-text="frameDisplay"></span>
          </div>
        </div>
      </div>

      <!-- Export Controls (Right Side) -->
      <div class="footer-section footer-export">
        <div class="control-group" x-show="showDurationControl" x-cloak>
          <label>Duration</label>
          <select x-model="exportLoops" class="control-base">
            <template x-for="duration in availableDurations" :key="duration.value">
              <option :value="duration.value" x-text="duration.label"></option>
            </template>
          </select>
        </div>
        <div class="control-group" x-show="showResolutionControl" x-cloak>
          <label>Resolution</label>
          <select x-model="exportResolution" class="control-base">
            <template x-for="res in availableResolutions" :key="res.value">
              <option :value="res.value" x-text="res.label"></option>
            </template>
          </select>
        </div>
        <div class="control-group">
          <label>Format</label>
          <select x-model="exportFormat" class="control-base">
            <option value="png">PNG (frame)</option>
            <option value="svg">SVG (frame)</option>
            <option value="video" :disabled="videoExportDisabled">Video (WebM)</option>
          </select>
        </div>
        <button
          class="btn-primary btn-base export-btn"
          @click="handleDownload"
          :disabled="isExporting"
          x-text="downloadButtonText"
        ></button>
      </div>
    </div>

    <script type="module" src="/app.js"></script>
  </body>
</html>
